(self.webpackChunkreact_modele=self.webpackChunkreact_modele||[]).push([[179],{4909:(e,t,r)=>{"use strict";var n=r(7294),a=r(3935),s=r(3727),i=r(7703),o=r(4890),c=(r(9070),"TOGGLE_MENU_VISIBILITY");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={mobileMenuVisibility:!1};const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:return u(u({},e),{},{mobileMenuVisibility:!e.mobileMenuVisibility});default:return e}};r(8309);var _="TOGGLE_CONNECTION_VISIBILITY",f="SET_SIGN_IN_FIELD_VALUE",g="SET_SETTINGS_FIELD_VALUE",h="TRY_SIGN_IN",E="SIGN_IN",b="SIGN_OUT",v="CHECK_IS_SIGNED_IN",w="EDIT_EMAIL_USER",y="EDIT_PSEUDO_USER",x="SET_INFO_USER",O="SET_SELECTED_FILE",N=function(e){var t=e.email,r=e.pseudo,n=e.client_picture.path,a=e.responsibility.entitled;return{type:E,email:t,pseudo:r,role:a,picturePath:n}},P=function(e,t){return{type:x,name:e,newInfo:t}},R="UPLOAD_FILE_PROFILE";function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={email:"",password:"",selectedFile:null,newEmail:"",newPseudo:"",currentPassword:"",newPassword:"",newPasswordConfirm:"",isVisible:!1,isLogged:!1,user:{email:"",pseudo:"",role:"",picturePath:""}};const T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _:return q(q({},e),{},{isVisible:!e.isVisible});case f:case g:return q(q({},e),{},k({},t.name,t.value));case E:return q(q({},e),{},{isLogged:!0,user:q(q({},e.user),{},{email:t.email,pseudo:t.pseudo,role:t.role,picturePath:t.picturePath})});case b:return q(q({},e),{},{isLogged:!1});case x:return q(q({},e),{},{user:q(q({},e.user),{},k({},t.name,t.newInfo))});case O:return q(q({},e),{},{selectedFile:t.file});default:return e}};var j="SET_SIGN_UP_FIELD_VALUE",I="TRY_SIGN_UP",A="SIGN_UP",D="SET_SIGN_UP_LOADING",F=function(e){return{type:D,loading:e}},L=function(){return{type:A}};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G={name:"",value:"",pseudo:"",email:"",password:"",passwordConfirm:"",loading:!1,isSignedUp:!1};r(2222),r(7327),r(1249);var H="FETCH_THEMES_EXERCISES",W="FETCH_EXERCISE",$="SET_THEMES_EXERCISES",X=function(e){return{type:$,data:e}},Q="SET_CURRENT_EXERCISE",z=function(e){return{type:Q,currentExercise:e}},B="SET_EXERCISESPAGE_LOADING",Y=function(e){return{type:B,loading:e}},K="TOGGLE_FILTER_THEME_VISIBILITY",Z=function(){return{type:K}},J="SET_ALL_THEMES_FILTER_CHECKBOX",ee=function(e){return{type:J,newThemesFilter:e}},te="SET_THEME_CHECKBOX",re="SET_THEMES_ID_TO_DISPLAY",ne="SET_ALL_THEMES_ID_TO_DISPLAY",ae="SET_NEW_USER_ANSWER",se="REMOVE_USER_ANSWER",ie="SHOW_QUESTION",oe="SEND_ANSWERS";function ce(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de={allThemesExercises:[],loadingExercisesPage:!1,themeFilterVisibility:!1,themesFilterCheckbox:[],themesIdToDisplay:[],currentExercise:{loading:!0,title:"",brief:"",themes:[],questions:[],userAnswers:[],currentQuestionIndex:0},userAnswers:[]};const _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case $:return me(me({},e),{},{allThemesExercises:t.data});case B:return me(me({},e),{},{loadingExercisesPage:t.loading});case K:return me(me({},e),{},{themeFilterVisibility:!e.themeFilterVisibility});case J:return me(me({},e),{},{themesFilterCheckbox:t.newThemesFilter});case te:return me(me({},e),{},{themesFilterCheckbox:e.themesFilterCheckbox.map((function(e){return e.id===t.idTheme?me(me({},e),{},{checked:!t.checked}):e}))});case re:return me(me({},e),{},{themesIdToDisplay:0===e.themesFilterCheckbox.filter((function(e){return e.checked})).map((function(e){return e.id})).length?e.themesFilterCheckbox.map((function(e){return e.id})):e.themesFilterCheckbox.filter((function(e){return e.checked})).map((function(e){return e.id}))});case ne:return me(me({},e),{},{themesIdToDisplay:t.themesId});case Q:return me(me({},e),{},{currentExercise:me(me({},e.currentExercise),t.currentExercise)});case ae:return me(me({},e),{},{currentExercise:me(me({},e.currentExercise),{},{questions:e.currentExercise.questions.map((function(e){return e.id===t.questionId?me(me({},e),{},{userAnswers:[].concat(ce(t.previousAnswers),[t.answerId])}):e}))})});case se:return me(me({},e),{},{currentExercise:me(me({},e.currentExercise),{},{questions:e.currentExercise.questions.map((function(e){return e.id===t.questionId?me(me({},e),{},{userAnswers:t.previousAnswers.filter((function(e){return e!==t.answerId}))}):e}))})});case ie:return me(me({},e),{},{currentExercise:me(me({},e.currentExercise),{},{currentQuestionIndex:t.questionIndex})});default:return e}};var fe="ON_CHANGE_TEXT_EMAIL",ge="ON_CHANGE_TEXT_PASS",he="SEND_MAIL_LINK_NEW_PASSWORD",Ee="NEW_PASSWORD";function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye={email:"",password:"",passwordConfirm:""};const xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case fe:return ve(ve({},e),{},{email:t.payload});case ge:return ve(ve({},e),{},{password:t.payload,passwordConfirm:t.payload2});default:return e}};var Oe="FETCH_USERS",Ne="SET_USERS_LIST_LOADER",Pe="SET_ALL_USERS",Re="DELETE_USER",Se="EDIT_USER_ROLE",qe="SET_ALL_USERS_ROLE",ke="SET_USER_ROLE",Ce="SET_USERS",Te=function(e){return{type:Pe,users:e}},je=function(e){return{type:Ne,loading:e}},Ie=function(e){return{type:qe,usersRole:e}};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Le={users:[],usersRole:{},loadingUsersList:!1};const Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case Pe:return De(De({},e),{},{users:t.users});case Ne:return De(De({},e),{},{loadingUsersList:t.loading});case qe:return De(De({},e),{},{usersRole:t.usersRole});case ke:return De(De({},e),{},{usersRole:De(De({},e.usersRole),{},Fe({},t.id,t.role))});case Ce:return De(De({},e),{},{users:e.users.map((function(e){return e.id===t.idUser?De(De({},e),{},{responsibility:De(De({},e.responsibility),{},{entitled:t.role})}):e}))});case Re:return De(De({},e),{},{users:e.users.filter((function(e){return e.id!==t.idUser}))});default:return e}},Ve=(0,o.UY)({other:d,auth:T,signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A:return{name:"",value:"",pseudo:"",email:"",password:"",passwordConfirm:"",isSignedUp:!0};case j:return V(V({},e),{},M({},t.name,t.value));case D:return V(V({},e),{},{loading:t.loading});default:return e}},exercises:_e,forget:xe,users:Ue});r(1539),r(8674),r(5666);var Me=r(9669);const Ge=r.n(Me)().create({baseURL:"http://localhost:3000/api",timeout:5e3});function He(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function We(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function $e(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function Xe(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function Qe(e,t,r,n,a,s,i){try{var o=e[s](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var ze=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.qC)((0,o.md)((function(e){return function(t){return function(){var r,n=(r=regeneratorRuntime.mark((function r(n){var a,s,i,o,c,l,u,m,p,d,_,f,g,E,x,O,S,q;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.type,r.next=r.t0===h?3:r.t0===v?19:r.t0===b?44:r.t0===y?57:r.t0===w?71:r.t0===R?85:100;break;case 3:return r.prev=3,a=e.getState(),s=a.auth,i=s.email,o=s.password,r.next=7,Ge.post("/signin",{email:i,password:o});case 7:if(200===(c=r.sent).status){r.next=10;break}throw new Error;case 10:e.dispatch(N(c.data)),r.next=16;break;case 13:r.prev=13,r.t1=r.catch(3),console.log("error",r.t1);case 16:return r.prev=16,r.finish(16);case 18:return r.abrupt("return",t(n));case 19:return r.prev=19,r.next=22,Ge.get("/csrf-token");case 22:if(l=r.sent,u=l.data,200===l.status){r.next=27;break}throw new Error("CSRF error");case 27:return Ge.defaults.headers.post["X-CSRF-Token"]=u.csrfToken,Ge.defaults.headers.patch["X-CSRF-Token"]=u.csrfToken,Ge.defaults.headers.delete["X-CSRF-Token"]=u.csrfToken,r.next=32,Ge.get("/profile");case 32:if(m=r.sent,p=m.data,200===m.status){r.next=37;break}throw new Error;case 37:e.dispatch(N(p)),r.next=43;break;case 40:r.prev=40,r.t2=r.catch(19),console.log(r.t2);case 43:return r.abrupt("return",t(n));case 44:return r.prev=44,r.next=47,Ge.get("/signout");case 47:if(200===r.sent.status){r.next=51;break}throw new Error;case 51:r.next=56;break;case 53:r.prev=53,r.t3=r.catch(44),console.log(r.t3);case 56:return r.abrupt("return",t(n));case 57:return r.prev=57,d=e.getState(),_=d.auth.newPseudo,r.next=61,Ge.patch("/profile",{pseudo:_});case 61:if(200===(f=r.sent).status){r.next=64;break}throw new Error;case 64:e.dispatch(P("pseudo",f.data.pseudo)),r.next=70;break;case 67:r.prev=67,r.t4=r.catch(57),console.log(r.t4);case 70:return r.abrupt("return",t(n));case 71:return r.prev=71,g=e.getState(),E=g.auth.newEmail,r.next=75,Ge.patch("/profile",{email:E});case 75:if(200===(x=r.sent).status){r.next=78;break}throw new Error;case 78:e.dispatch(P("email",x.data.email)),r.next=84;break;case 81:r.prev=81,r.t5=r.catch(71),console.log(r.t5);case 84:return r.abrupt("return",t(n));case 85:return r.prev=85,O=e.getState(),S=O.auth.selectedFile,(q=new FormData).append("profile",S),r.next=91,Ge.post("/upload",q,{});case 91:if(200===r.sent.status){r.next=94;break}throw new Error;case 94:r.next=99;break;case 96:r.prev=96,r.t6=r.catch(85),console.log(r.t6);case 99:case 100:return r.abrupt("return",t(n));case 101:case"end":return r.stop()}}),r,null,[[3,13,16,18],[19,40],[44,53],[57,67],[71,81],[85,96]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function i(e){He(s,n,a,i,o,"next",e)}function o(e){He(s,n,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var r,n=(r=regeneratorRuntime.mark((function r(n){var a,s,i,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.type,r.next=r.t0===I?3:21;break;case 3:return r.prev=3,e.dispatch(F(!0)),a=e.getState(),s=a.signup,i=s.email,o=s.pseudo,c=s.password,l=s.passwordConfirm,r.next=8,Ge.post("/signup",{email:i,pseudo:o,password:c,passwordConfirm:l});case 8:if(200===r.sent.status){r.next=11;break}throw new Error;case 11:e.dispatch(L),r.next=17;break;case 14:r.prev=14,r.t1=r.catch(3),console.log("error",r.t1);case 17:return r.prev=17,e.dispatch(F(!1)),r.finish(17);case 20:case 21:return r.abrupt("return",t(n));case 22:case"end":return r.stop()}}),r,null,[[3,14,17,20]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function i(e){We(s,n,a,i,o,"next",e)}function o(e){We(s,n,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var r,n=(r=regeneratorRuntime.mark((function r(n){var a,s,i,o,c,l,u,m,p,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.type,r.next=r.t0===H?3:r.t0===W?24:r.t0===oe?43:58;break;case 3:return r.prev=3,e.dispatch(Y(!0)),r.next=7,Ge.get("/themes_exercises");case 7:if(200===(a=r.sent).status){r.next=10;break}throw new Error;case 10:s=a.data.map((function(e){return{id:e.id,name:e.name,color:e.color,checked:!1}})),i=a.data.map((function(e){return e.id})),e.dispatch({type:ne,themesId:i}),e.dispatch(ee(s)),e.dispatch(X(a.data)),r.next=20;break;case 17:r.prev=17,r.t1=r.catch(3),console.log("error",r.t1);case 20:return r.prev=20,e.dispatch(Y(!1)),r.finish(20);case 23:return r.abrupt("return",t(n));case 24:return r.prev=24,r.next=27,Ge.get("/exercises/dragndrop/".concat(n.exerciseId));case 27:if(o=r.sent,c=o.status,l=o.data,200===c){r.next=32;break}throw new Error;case 32:u={loading:!1,id:l.id,title:l.title,brief:l.brief,themes:l.themes,questions:l.questions},e.dispatch(z(u)),r.next=39;break;case 36:r.prev=36,r.t2=r.catch(24),console.log("error",r.t2);case 39:return r.prev=39,e.dispatch(Y(!1)),r.finish(39);case 42:return r.abrupt("return",t(n));case 43:return r.prev=43,m=e.getState(),p=m.exercises.currentExercise,d=p.questions.map((function(e){return{questionId:e.id,answers:e.userAnswers}})),r.next=48,Ge.post("/exercises/dragndrop/".concat(p.id),d);case 48:if(200===r.sent.status){r.next=51;break}throw new Error;case 51:console.log("réponses envoyées"),r.next=57;break;case 54:r.prev=54,r.t3=r.catch(43),console.log(r.t3);case 57:case 58:return r.abrupt("return",t(n));case 59:case"end":return r.stop()}}),r,null,[[3,17,20,23],[24,36,39,42],[43,54]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function i(e){$e(s,n,a,i,o,"next",e)}function o(e){$e(s,n,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var r,n=(r=regeneratorRuntime.mark((function r(n){var a,s,i,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.type,r.next=r.t0===he?3:r.t0===Ee?17:31;break;case 3:return r.prev=3,a=e.getState(),s=a.forget.email,r.next=7,Ge.post("/forget",{email:s});case 7:if(200===r.sent.status){r.next=10;break}throw new Error;case 10:console.log("ok"),r.next=16;break;case 13:r.prev=13,r.t1=r.catch(3),console.log("error",r.t1);case 16:return r.abrupt("return",t(n));case 17:return r.prev=17,i=e.getState(),o=i.forget,c=o.password,l=o.passwordConfirm,r.next=21,Ge.patch("/forget",{headers:{Authorization:"Bearer ".concat(n.token)},password:c,passwordConfirm:l});case 21:if(200===r.sent.status){r.next=24;break}throw new Error;case 24:console.log("ok"),r.next=30;break;case 27:r.prev=27,r.t2=r.catch(17),console.log("error",r.t2);case 30:case 31:return r.abrupt("return",t(n));case 32:case"end":return r.stop()}}),r,null,[[3,13],[17,27]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function i(e){Xe(s,n,a,i,o,"next",e)}function o(e){Xe(s,n,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var r,n=(r=regeneratorRuntime.mark((function r(n){var a,s,i,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.type,r.next=r.t0===Oe?3:r.t0===Re?23:r.t0===Se?37:54;break;case 3:return r.prev=3,e.dispatch(je(!0)),r.next=7,Ge.get("/clients");case 7:if(200===(a=r.sent).status){r.next=10;break}throw new Error;case 10:s={},a.data.map((function(e){return s[e.id]=e.responsibility.entitled})),e.dispatch(Te(a.data)),e.dispatch(Ie(s)),r.next=19;break;case 16:r.prev=16,r.t1=r.catch(3),console.log("error",r.t1);case 19:return r.prev=19,e.dispatch(je(!1)),r.finish(19);case 22:return r.abrupt("return",t(n));case 23:return r.prev=23,r.next=26,Ge.delete("/clients/".concat(n.idUser));case 26:if(200===r.sent.status){r.next=29;break}throw new Error;case 29:r.next=34;break;case 31:r.prev=31,r.t2=r.catch(23),console.log("error",r.t2);case 34:return r.prev=34,r.finish(34);case 36:return r.abrupt("return",t(n));case 37:return r.prev=37,i=e.getState(),o=i.users.usersRole,c=o[n.idUser],r.next=42,Ge.patch("/clients/".concat(n.idUser),{responsibility:c});case 42:if(200===r.sent.status){r.next=45;break}throw new Error;case 45:e.dispatch((l=n.idUser,{type:Ce,idUser:l,role:c})),r.next=51;break;case 48:r.prev=48,r.t3=r.catch(37),console.log("error",r.t3);case 51:return r.prev=51,r.finish(51);case 53:case 54:return r.abrupt("return",t(n));case 55:case"end":return r.stop()}var l}),r,null,[[3,16,19,22],[23,31,34,36],[37,48,51,53]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function i(e){Qe(s,n,a,i,o,"next",e)}function o(e){Qe(s,n,a,i,o,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}})));const Be=(0,o.MT)(Ve,ze);var Ye=r(5697),Ke=r.n(Ye);const Ze=r.p+"images/a88c2e790c039b919131601a5464771f.svg";const Je=function(){return n.createElement("header",{className:"header-wrapper__header",role:"banner"},n.createElement(s.rU,{className:"header-wrapper__header__link",to:"/"},n.createElement("img",{className:"header-wrapper__header__link__site-logo",src:Ze,alt:"Retour à l'accueil"}),n.createElement("p",{className:"header-wrapper__header__link__site-name"},"Cod'Access")))};var et=r(4184),tt=r.n(et),rt=function(e){var t=e.toggleMenu,r=e.mobileMenuVisibility;return n.createElement("nav",{className:"header-wrapper__menu",role:"navigation","aria-label":"principal"},n.createElement("button",{className:"header-wrapper__menu__toggle-btn",type:"button","aria-expanded":r,"aria-controls":"menu-toggle-area",onClick:t},n.createElement("span",{className:"sr-only"},"Menu"),n.createElement("span",{className:"header-wrapper__menu__toggle-btn__stripe"}),n.createElement("span",{className:"header-wrapper__menu__toggle-btn__stripe"}),n.createElement("span",{className:"header-wrapper__menu__toggle-btn__stripe"})),n.createElement("ul",{id:"menu-toggle-area",className:tt()("header-wrapper__menu__list",{"header-wrapper__menu__list--visible":r})},n.createElement("li",null,n.createElement(s.OL,{className:"header-wrapper__menu__list__link",to:"/",exact:!0,activeClassName:"header-wrapper__menu__list__link--active"},"Accueil")),n.createElement("li",null,n.createElement(s.OL,{className:"header-wrapper__menu__list__link",to:"/challenges",exact:!0,activeClassName:"header-wrapper__menu__list__link--active"},"Challenges")),n.createElement("li",null,n.createElement(s.OL,{className:"header-wrapper__menu__list__link",to:"/documentations",exact:!0,activeClassName:"header-wrapper__menu__list__link--active"},"Documentations")),n.createElement("li",null,n.createElement(s.OL,{className:"header-wrapper__menu__list__link",to:"/a-propos",exact:!0,activeClassName:"header-wrapper__menu__list__link--active"},"À propos")),n.createElement("li",null,n.createElement(s.OL,{className:"header-wrapper__menu__list__link",to:"/contact",exact:!0,activeClassName:"header-wrapper__menu__list__link--active"},"Contact"))))};rt.propTypes={toggleMenu:Ke().func,mobileMenuVisibility:Ke().bool},rt.defaultProps={toggleMenu:function(){},mobileMenuVisibility:!1};const nt=rt;const at=(0,i.$j)((function(e){return{mobileMenuVisibility:e.other.mobileMenuVisibility}}),(function(e){return{toggleMenu:function(){return e({type:c})}}}))(nt);var st=r(7625),it=r(1436),ot=function(e){var t=e.value,r=e.changeValue,a=e.id,s=e.label,i=e.type,o=e.autocomplete;return n.createElement("div",{className:"header-wrapper__connection__toggle-area__form__group"},n.createElement("label",{htmlFor:a},s),n.createElement("input",{id:a,type:i,value:t,autoComplete:o,onChange:function(e){return r(e.target.value)}}))};ot.propTypes={id:Ke().string.isRequired,value:Ke().string.isRequired,label:Ke().string.isRequired,changeValue:Ke().func.isRequired,type:Ke().string},ot.defaultProps={type:"text"};const ct=ot;const lt=(0,i.$j)((function(e,t){return{value:e.auth[t.name]}}),(function(e,t){var r=t.name;return{changeValue:function(t){return e(function(e,t){return{type:f,value:e,name:t}}(t,r))}}}))(ct);var ut=function(e){var t=e.trySignIn;return n.createElement(n.Fragment,null,n.createElement("form",{className:"header-wrapper__connection__toggle-area__form",onSubmit:function(e){e.preventDefault(),t()}},n.createElement(lt,{type:"email",id:"signin-email",label:"Adresse e-mail (nom@domaine.fr)",name:"email",autocomplete:"email"}),n.createElement(lt,{type:"password",id:"signin-password",label:"Mot de passe",name:"password",autocomplete:"current-password"}),n.createElement("button",{className:"header-wrapper__connection__toggle-area__form__submit",type:"submit"},"Se connecter")),n.createElement("div",{className:"header-wrapper__connection__toggle-area__signup"},n.createElement(s.rU,{className:"header-wrapper__connection__toggle-area__signup__link",to:"/inscription"},"Inscription")))};ut.propTypes={trySignIn:Ke().func.isRequired};const mt=ut;const pt=(0,i.$j)(null,(function(e){return{trySignIn:function(){return e({type:h})}}}))(mt);var dt=function(e){var t=e.pseudo,r=e.signOut,a=e.role;return n.createElement(n.Fragment,null,n.createElement("p",{className:"header-wrapper__connection__toggle-area__title"},"Bienvenue à bord ",t),n.createElement("ul",{className:"header-wrapper__connection__toggle-area__list"},n.createElement("li",null,n.createElement(s.OL,{to:"/profil",exact:!0,className:"header-wrapper__connection__toggle-area__list__link",activeClassName:"header-wrapper__connection__toggle-area__list__link--active"},"Profil")),"admin"===a&&n.createElement("li",{className:"header-wrapper__connection__toggle-area__list__link"},n.createElement(s.OL,{to:"/admin/utilisateurs",exact:!0,className:"header-wrapper__connection__toggle-area__list__link",activeClassName:"header-wrapper__connection__toggle-area__list__link--active"},"Tableau de bord")),n.createElement("li",null,n.createElement(s.OL,{to:"/profil-edit",exact:!0,className:"header-wrapper__connection__toggle-area__list__link",activeClassName:"header-wrapper__connection__toggle-area__list__link--active"},"Paramètres")),n.createElement("li",null,n.createElement("button",{type:"button",onClick:r},"Déconnexion"))))};dt.propTypes={pseudo:Ke().string.isRequired,signOut:Ke().func.isRequired,role:Ke().string.isRequired};const _t=dt;const ft=(0,i.$j)((function(e){var t=e.auth;return{pseudo:t.user.pseudo,role:t.user.role}}),(function(e){return{signOut:function(){return e({type:b})}}}))(_t);var gt=function(e){var t=e.isVisible,r=e.toggleConnection,a=e.isLogged;return n.createElement("div",{className:"header-wrapper__connection"},n.createElement("button",{className:"header-wrapper__connection__toggle-btn",type:"button","aria-expanded":t,"aria-controls":"connection-menu",onClick:r},a?n.createElement(n.Fragment,null,n.createElement(st.G,{className:"header-wrapper__connection__toggle-btn__icon",icon:it.m08,size:"2x"}),n.createElement("span",{className:"header-wrapper__connection__toggle-btn__text"},"Profil")):n.createElement(n.Fragment,null,n.createElement(st.G,{className:"header-wrapper__connection__toggle-btn__icon",icon:it.ILF,size:"2x"}),n.createElement("span",{className:"header-wrapper__connection__toggle-btn__text"},"Connexion"))),n.createElement("div",{id:"connection-menu",className:tt()("header-wrapper__connection__toggle-area",{"header-wrapper__connection__toggle-area--visible":t})},a?n.createElement(ft,null):n.createElement(pt,null)))};gt.propTypes={isVisible:Ke().bool.isRequired,toggleConnection:Ke().func.isRequired,isLogged:Ke().bool.isRequired};const ht=gt;const Et=(0,i.$j)((function(e){var t=e.auth;return{isVisible:t.isVisible,isLogged:t.isLogged}}),(function(e){return{toggleConnection:function(){return e({type:_})}}}))(ht);var bt=r(5977);const vt=r.p+"images/55c34be68bc9892a0f119d17cddc60f9.svg",wt=r.p+"images/7fc74623f3ac818f18617ed2ae54c800.svg",yt=r.p+"images/ff6f937e00324baebe12e8f02aaaf595.svg",xt=r.p+"images/663dbf0619cf13108f5f9c25f69f7897.svg";const Ot=function(){return n.createElement("section",{className:"home-wrapper"},n.createElement("article",{className:"home-wrapper__article"},n.createElement("div",{className:"home-wrapper__article__wrapper"},n.createElement("img",{className:"home-wrapper__article__wrapper__img",src:vt,alt:""}),n.createElement("div",{className:"home-wrapper__article__wrapper__text"},n.createElement("h1",{className:"home-wrapper__article__wrapper__text__page-heading"},"Bienvenue Mousaillon !"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tortor blandit integer aliquam mi nisi habitasse nunc sit mi."),n.createElement("p",null,"Vestibulum ullamcorper nibh sagittis etiam mattis adipiscing velit. Sagittis vivamus amet massa suspendisse nunc euismod."),n.createElement("p",null,"Tristique tincidunt vestibulum netus justo. Rhoncus leo massa sed quam. Volutpat gravida vitae faucibus sem nulla molestie consectetur.")))),n.createElement("article",{className:"home-wrapper__article"},n.createElement("div",{className:"home-wrapper__article__wrapper"},n.createElement("img",{className:"home-wrapper__article__wrapper__img",src:wt,alt:""}),n.createElement("div",{className:"home-wrapper__article__wrapper__text"},n.createElement("h2",{className:"home-wrapper__article__wrapper__text__heading"},"Lance-toi !"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tortor blandit integer aliquam mi nisi habitasse nunc sit mi."),n.createElement("p",null,"Vestibulum ullamcorper nibh sagittis etiam mattis adipiscing velit. Sagittis vivamus amet massa suspendisse nunc euismod."),n.createElement("p",null,"Tristique tincidunt vestibulum netus justo. Rhoncus leo massa sed quam. Volutpat gravida vitae faucibus sem nulla molestie consectetur."),n.createElement(s.rU,{className:"home-wrapper__article__wrapper__text__link",to:"/challenges"},"Commencer les challenges")))),n.createElement("article",{className:"home-wrapper__article"},n.createElement("div",{className:"home-wrapper__article__wrapper"},n.createElement("img",{className:"home-wrapper__article__wrapper__img",src:yt,alt:""}),n.createElement("div",{className:"home-wrapper__article__wrapper__text"},n.createElement("h2",{className:"home-wrapper__article__wrapper__text__heading"},"Etudions un peu !"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tortor blandit integer aliquam mi nisi habitasse nunc sit mi."),n.createElement("p",null,"Vestibulum ullamcorper nibh sagittis etiam mattis adipiscing velit. Sagittis vivamus amet massa suspendisse nunc euismod."),n.createElement("p",null,"Tristique tincidunt vestibulum netus justo. Rhoncus leo massa sed quam. Volutpat gravida vitae faucibus sem nulla molestie consectetur."),n.createElement(s.rU,{className:"home-wrapper__article__wrapper__text__link",to:"/challenges"},"Commencer les challenges")))),n.createElement("article",{className:"home-wrapper__article"},n.createElement("div",{className:"home-wrapper__article__wrapper"},n.createElement("img",{className:"home-wrapper__article__wrapper__img",src:xt,alt:""}),n.createElement("div",{className:"home-wrapper__article__wrapper__text"},n.createElement("h2",{className:"home-wrapper__article__wrapper__text__heading"},"Rejoins-nous"),n.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tortor blandit integer aliquam mi nisi habitasse nunc sit mi."),n.createElement("p",null,"Vestibulum ullamcorper nibh sagittis etiam mattis adipiscing velit. Sagittis vivamus amet massa suspendisse nunc euismod."),n.createElement("p",null,"Tristique tincidunt vestibulum netus justo. Rhoncus leo massa sed quam. Volutpat gravida vitae faucibus sem nulla molestie consectetur."),n.createElement(s.rU,{className:"home-wrapper__article__wrapper__text__link",to:"/inscription"},"S'inscrire")))))};var Nt=function(e){var t=e.id,r=e.value,a=e.label,s=e.onChange,i=e.type,o=e.name;return n.createElement("div",{className:"signup__content__form__group"},n.createElement("label",{htmlFor:t,className:"signup__content__form__group__label"},a),n.createElement("input",{type:i,name:o,id:t,value:r,onChange:function(e){return s(e.target.value,o)},className:"signup__content__form__group__input","aria-required":"true"}))};Nt.propTypes={id:Ke().string.isRequired,value:Ke().string,label:Ke().string.isRequired,onChange:Ke().func,type:Ke().string.isRequired,name:Ke().string.isRequired},Nt.defaultProps={value:"",onChange:function(){}};const Pt=Nt;var Rt=function(e){var t=e.changeField,r=e.email,a=e.pseudo,s=e.password,i=e.passwordConfirm,o=e.trySignUp,c=e.loading,l=e.isSignedUp;return n.createElement("div",{className:"signup"},n.createElement("h1",{className:"signup__title"},"Inscription"),n.createElement("div",{className:"signup__content"},n.createElement("div",{className:"signup__content__illustration"},n.createElement("p",null,l&&"Merci Votre inscription est presque terminée : vous allez recevoir un e-mail d’ici quelques minutes afin de valider votre adresse email.")),n.createElement("form",{action:"",method:"get",className:"signup__content__form",onSubmit:function(e){e.preventDefault(),o()}},n.createElement(Pt,{type:"email",id:"email",value:r,label:"Adresse e-mail (nom@domaine.fr)",name:"email",onChange:t}),n.createElement(Pt,{type:"text",id:"pseudo",value:a,label:"Pseudo",name:"pseudo",onChange:t}),n.createElement(Pt,{type:"password",id:"password",value:s,label:"Mot de passe",name:"password",onChange:t}),n.createElement(Pt,{type:"password",id:"password_confirm",value:i,label:"Confirmez votre mot de passe",name:"passwordConfirm",onChange:t}),n.createElement("div",{className:"signup__content__form__group"},n.createElement("button",{className:"signup__content__form__submit",type:"submit"},c?"chargement":"S'enregistrer")))))};Rt.propTypes={email:Ke().string.isRequired,pseudo:Ke().string.isRequired,password:Ke().string.isRequired,passwordConfirm:Ke().string.isRequired,changeField:Ke().func,trySignUp:Ke().func.isRequired,loading:Ke().bool,isSignedUp:Ke().bool.isRequired},Rt.defaultProps={changeField:function(){},loading:!1};const St=Rt;const qt=(0,i.$j)((function(e){return{email:e.signup.email,pseudo:e.signup.pseudo,password:e.signup.password,passwordConfirm:e.signup.passwordConfirm,loading:e.signup.loading,isSignedUp:e.signup.isSignedUp}}),(function(e){return{changeField:function(t,r){return e(function(e,t){return{type:j,value:e,name:t}}(t,r))},trySignUp:function(){return e({type:I})}}}))(St);var kt=function(e){var t=e.email,r=e.pseudo,a=e.picturePath;return n.createElement("div",{className:"profile"},n.createElement("h1",{className:"profile__title"},"Mon Profil"),n.createElement("div",{className:"profile__content"},n.createElement("img",{className:"profile__content__img",src:"",alt:""}),n.createElement("div",{className:"profile__content__infos"},n.createElement("h2",{className:"profile__content__infos__pseudo"},"Chemin de l'image: ",a),n.createElement("h2",{className:"profile__content__infos__pseudo"},r),n.createElement("h2",{className:"profile__content__infos__email"},t))))};kt.propTypes={email:Ke().string.isRequired,pseudo:Ke().string.isRequired,picturePath:Ke().string.isRequired};const Ct=kt;const Tt=(0,i.$j)((function(e){return{email:e.auth.user.email,pseudo:e.auth.user.pseudo,picturePath:e.auth.user.picturePath}}),(function(){return{}}))(Ct);r(6699),r(2023);var jt=function(e){var t=e.exercises;return n.createElement("ul",{className:"exercises__wrapper__theme__list"},t.map((function(e){return n.createElement("li",{className:"exercises__wrapper__theme__list__exercise",key:e.id},n.createElement(s.rU,{to:"#",className:"exercises__wrapper__theme__list__exercise__link"},e.title))})))};jt.propTypes={exercises:Ke().arrayOf(Ke().shape({id:Ke().number.isRequired,title:Ke().string.isRequired}))},jt.defaultProps={exercises:[]};const It=jt;var At=function(e){var t=e.theme,r=e.handleCheckbox;return n.createElement("li",{className:"exercises__filter__item"},n.createElement("input",{type:"checkbox",id:t.id,name:t.name,value:t.id,className:"exercises__filter__item__checkbox",onChange:function(){return r(t.id,t.checked)},checked:t.checked}),n.createElement("label",{htmlFor:t.id,className:"exercises__filter__item__label"},t.name," "))};At.propTypes={theme:Ke().shape({id:Ke().number.isRequired,name:Ke().string.isRequired,checked:Ke().bool.isRequired}),handleCheckbox:Ke().func.isRequired},At.defaultProps={theme:{}};const Dt=At;var Ft=function(e){var t=e.visibility,r=e.themes,a=e.toggleFilter,s=e.validateFilter,i=e.handleCheckbox;return n.createElement(n.Fragment,null,n.createElement("button",{type:"button",className:"exercises__filter--btn",onClick:a},"Thèmes"),t&&n.createElement("fieldset",{className:"exercises__filter"},n.createElement("legend",{className:"exercises__filter__legend"},"Thèmes"),n.createElement("ul",null,r.map((function(e){return n.createElement(Dt,{theme:e,key:e.id,handleCheckbox:i})}))),n.createElement("button",{type:"button",className:"exercises__filter__btn--valid",onClick:s},"Valider")))};Ft.propTypes={themes:Ke().array,visibility:Ke().bool,toggleFilter:Ke().func,validateFilter:Ke().func.isRequired,handleCheckbox:Ke().func.isRequired},Ft.defaultProps={themes:[],visibility:!1,toggleFilter:function(){}};const Lt=Ft;var Ut=function(e){var t=e.fetchThemesExercises,r=e.allThemesExercises,a=e.loadingExercisesPage,s=e.themeFilterVisibility,i=e.toggleFilter,o=e.validateFilter,c=e.themesFilterCheckbox,l=e.themesIdToDisplay,u=e.handleCheckbox;return(0,n.useEffect)((function(){t()}),[]),a?n.createElement("p",{className:"loader"},"Chargement"):n.createElement("section",{className:"exercises"},n.createElement("h1",{className:"exercises__title"},"Choisissez un challenge parmis les thèmes proposés"),n.createElement(Lt,{themes:c,visibility:s,toggleFilter:i,handleCheckbox:u,validateFilter:o}),n.createElement("div",{className:"exercises__wrapper"},r.filter((function(e){return l.includes(e.id)})).map((function(e){return n.createElement("div",{className:"exercises__wrapper__theme",key:e.id},n.createElement("h2",{className:"exercises__wrapper__theme__title"},e.name),n.createElement(It,{exercises:e.exercises}))}))))};Ut.propTypes={fetchThemesExercises:Ke().func.isRequired,allThemesExercises:Ke().arrayOf(Ke().shape({id:Ke().number.isRequired,name:Ke().string.isRequired,exercises:Ke().array})),loadingExercisesPage:Ke().bool,toggleFilter:Ke().func,themeFilterVisibility:Ke().bool,themesFilterCheckbox:Ke().array,handleCheckbox:Ke().func.isRequired,validateFilter:Ke().func.isRequired,themesIdToDisplay:Ke().array.isRequired},Ut.defaultProps={loadingExercisesPage:!1,themeFilterVisibility:!1,themesFilterCheckbox:[],allThemesExercises:[],toggleFilter:function(){}};const Vt=Ut;const Mt=(0,i.$j)((function(e){return{allThemesExercises:e.exercises.allThemesExercises,loadingExercisesPage:e.exercises.loadingExercisesPage,themeFilterVisibility:e.exercises.themeFilterVisibility,themesFilterCheckbox:e.exercises.themesFilterCheckbox,themesIdToDisplay:e.exercises.themesIdToDisplay}}),(function(e){return{fetchThemesExercises:function(){return e({type:H})},toggleFilter:function(){return e(Z())},setAllThemesFilterCheckbox:function(t){return e(ee(t))},handleCheckbox:function(t,r){return e(function(e,t){return{type:te,idTheme:e,checked:t}}(t,r))},setThemesExercises:function(t){return e(X(t))},validateFilter:function(){e({type:re}),e(Z())}}}))(Vt);r(4916),r(4723),r(9601),r(7042),r(9653),r(3123);var Gt=r(9164),Ht=r(8917);r(9826),r(3710),r(9714);function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var $t=function(e){var t=e.answer,r=t.id,a=t.content,s=e.index,i=e.isDragDisabled,o=e.isUserAnswer,c=e.removeAnswer,l=e.questionId,u=e.userAnswers,m=function(){c({answerId:Number(r),questionId:l,previousAnswers:u})};return n.createElement(Gt._l,{draggableId:o?"user-answer-".concat(r):r.toString(),index:s,isDragDisabled:i},(function(e,t){return n.createElement(n.Fragment,null,n.createElement("div",Wt({className:"exercise-section__questions__question__answers__answer",ref:e.innerRef},e.draggableProps,e.dragHandleProps),a,o&&n.createElement("button",{type:"button",onClick:m},n.createElement("span",{className:"sr-only"},"Supprimer l'attribut ",a),"x")),t.isDragging&&n.createElement("div",{className:"exercise-section__questions__question__answers__answer"},a))}))};$t.propTypes={answer:Ke().shape({id:Ke().number.isRequired,content:Ke().string.isRequired}).isRequired,index:Ke().number.isRequired,isDragDisabled:Ke().bool,isUserAnswer:Ke().bool,removeAnswer:Ke().func,questionId:Ke().number,userAnswers:Ke().array},$t.defaultProps={isDragDisabled:!1,isUserAnswer:!1,removeAnswer:function(){},questionId:null,userAnswers:[]};const Xt=$t;const Qt=(0,i.$j)((function(){return{}}),(function(e){return{removeAnswer:function(t){return e((n=(r=t).questionId,a=r.answerId,s=r.previousAnswers,{type:se,questionId:n,answerId:a,previousAnswers:s}));var r,n,a,s}}}))(Xt);function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Bt=function(e){var t=e.possibleAnswers,r=e.userAnswers,a=e.questionId;return n.createElement(Gt.bK,{droppableId:"user-answers"},(function(e,s){return n.createElement("span",zt({className:tt()("exercise-section__questions__question__drop-area",{"exercise-section__questions__question__drop-area--hovered":s.isDraggingOver}),ref:e.innerRef},e.droppableProps),"Drop me here",e.placeholder,r.map((function(e,s){return n.createElement(Qt,{answer:t.find((function(t){return t.id===e})),userAnswers:r,isUserAnswer:!0,questionId:a,index:s,isDragDisabled:!0,key:e})})))}))};Bt.propTypes={possibleAnswers:Ke().arrayOf(Ke().shape({id:Ke().number,content:Ke().string})).isRequired,userAnswers:Ke().array.isRequired,questionId:Ke().number.isRequired};const Yt=Bt;var Kt=function(e){var t=e.possibleAnswers,r=e.userAnswers;return n.createElement(Gt.bK,{droppableId:"possible-answers",isDropDisabled:!0},(function(e,a){return n.createElement("article",{className:"exercise-section__questions__question__answers",ref:e.innerRef},t.map((function(e,t){return n.createElement(Qt,{answer:e,index:t,isDragDisabled:r.includes(e.id),key:e.id})})),e.placeholder)}))};Kt.propTypes={possibleAnswers:Ke().arrayOf(Ke().shape({id:Ke().number,content:Ke().string})).isRequired,userAnswers:Ke().array.isRequired};const Zt=Kt;var Jt=function(e){var t=e.isHidden,r=e.id,a=e.brief,s=e.code,i=e.picture,o=e.possible_answers,c=e.userAnswers,l=e.newUserAnswer,u=e.questionIndex,m=(s=s.slice(0,2)+"[[drop]]"+s.slice(2)).split(/(?:\[\[|\]\])+/);return n.createElement(Gt.Z5,{onDragEnd:function(e){l({questionId:r,answerId:Number(e.draggableId),previousAnswers:c})}},n.createElement("article",{className:tt()("exercise-section__questions__question",{"exercise-section__questions__question--hidden":t})},n.createElement("p",null,"Question ",u+1),a&&n.createElement("p",null,a),i&&n.createElement("img",{src:"toto.png",alt:""}),n.createElement("pre",null,n.createElement("code",null,m.map((function(e){return"drop"===e?n.createElement(Yt,{possibleAnswers:o,userAnswers:c,questionId:r,key:(0,Ht.x0)()}):n.createElement("span",{key:(0,Ht.x0)()},e)})))),n.createElement(Zt,{possibleAnswers:o,userAnswers:c})))};Jt.propTypes={isHidden:Ke().bool.isRequired,id:Ke().number.isRequired,brief:Ke().string,code:Ke().string.isRequired,picture:Ke().string,possible_answers:Ke().arrayOf(Ke().shape({id:Ke().number,content:Ke().string})).isRequired,userAnswers:Ke().array.isRequired,newUserAnswer:Ke().func.isRequired,questionIndex:Ke().number.isRequired},Jt.defaultProps={brief:"",picture:""};const er=Jt;const tr=(0,i.$j)((function(e,t){var r=e.exercises.currentExercise,n=t.questionIndex;return{userAnswers:r.questions[n].userAnswers||[],isHidden:r.currentQuestionIndex!==n}}),(function(e){return{newUserAnswer:function(t){return e((n=(r=t).questionId,a=r.answerId,s=r.previousAnswers,{type:ae,questionId:n,answerId:a,previousAnswers:s}));var r,n,a,s}}}))(er);function rr(){return(rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var nr=function(e){var t=e.title,r=e.brief,a=e.questions,s=e.loading,i=e.currentQuestionIndex,o=e.getExercise,c=e.changeQuestion,l=e.submitAnswers;return(0,n.useEffect)((function(){o()}),[]),s?n.createElement("p",null," Chargement en cours"):n.createElement("section",{className:"exercise-section"},n.createElement("h1",{className:"exercise-section__page-heading"},t),n.createElement("p",{className:"exercise-section__brief"},r),n.createElement("section",{className:"exercise-section__questions"},a.map((function(e,t){return n.createElement(tr,rr({},e,{questionIndex:t,key:e.id}))})),i>0&&n.createElement("button",{type:"button",onClick:function(){return c(i-1)}},"Question précédente"),i<a.length-1?n.createElement("button",{type:"button",onClick:function(){return c(i+1)}},"Question suivante"):n.createElement("button",{type:"button",onClick:l},"Valider mes réponses")))};nr.propTypes={title:Ke().string.isRequired,brief:Ke().string,questions:Ke().array,loading:Ke().bool,currentQuestionIndex:Ke().number,getExercise:Ke().func.isRequired,changeQuestion:Ke().func.isRequired,submitAnswers:Ke().func},nr.defaultProps={brief:"",questions:[],loading:!0,currentQuestionIndex:0,submitAnswers:function(){}};const ar=nr;function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const or=(0,bt.EN)((0,i.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach((function(t){ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.exercises.currentExercise)}),(function(e,t){var r=t.match.params.exerciseId;return{getExercise:function(){return e(function(e){return{type:W,exerciseId:e}}(r))},changeQuestion:function(t){return e(function(e){return{type:ie,questionIndex:e}}(t))},submitAnswers:function(){return e({type:oe})}}}))(ar));const cr=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.createElement("ul",{className:"admin__menu"},n.createElement("li",null,n.createElement(s.OL,{className:"admin__menu__link",to:"/admin/utilisateurs",exact:!0,activeClassName:"admin__menu__link--active"},"Utilisateurs")),n.createElement("li",null,n.createElement(s.OL,{className:"admin__menu__link",to:"/admin/exercices",exact:!0,activeClassName:"admin__menu__link--active"},"Exercices")))};var lr=function(e){var t=e.fetchUsers,r=e.users,a=e.loadingUsersList,s=e.deleteUser,i=e.usersRole,o=e.editUserRole,c=e.handleChangeSelect;if((0,n.useEffect)((function(){t()}),[]),a)return n.createElement("p",{className:"loader"},"Chargement");return n.createElement(n.Fragment,null,n.createElement(cr,null),n.createElement("div",{className:"admin_users"},n.createElement("h1",{className:"title_h1"},"Liste des utilisateurs"),n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"id"),n.createElement("th",null,"email"),n.createElement("th",null,"pseudo"),n.createElement("th",null,"droit"),n.createElement("th",null,"date de création"),n.createElement("th",null,"dernière date de mise à jour"),n.createElement("th",null,"actions"))),n.createElement("tbody",null,r.map((function(e){return n.createElement("tr",{key:e.id},n.createElement("td",null,e.id),n.createElement("td",null,e.email),n.createElement("td",null,e.pseudo),n.createElement("td",null,e.responsibility.entitled,n.createElement("form",{onSubmit:function(){return function(e,t){t.preventDefault(),o(e)}(e.id,event)}},n.createElement("select",{value:i[e.id],onChange:function(t){return c(e.id,t.target.value)}},n.createElement("option",{value:"admin"},"Admin"),n.createElement("option",{value:"utilisateur"},"Utilisateur")),n.createElement("button",{type:"submit"},"Valider les modifications"))),n.createElement("td",null,e.created_at),n.createElement("td",null,e.updated_at),n.createElement("td",null,n.createElement("button",{type:"button",onClick:function(){var t;t=e.id,s(t)}},"Supprimer"),n.createElement("button",{type:"button"},"Modifier les droits")))}))))))};lr.propTypes={fetchUsers:Ke().func.isRequired,users:Ke().arrayOf(Ke().shape({id:Ke().number.isRequired,email:Ke().string.isRequired,pseudo:Ke().string.isRequired,created_at:Ke().string.isRequired,updated_at:Ke().string.isRequired,responsibility:Ke().shape({entitled:Ke().string.isRequired})})),loadingUsersList:Ke().bool,deleteUser:Ke().func.isRequired,usersRole:Ke().object,editUserRole:Ke().func.isRequired,handleChangeSelect:Ke().func.isRequired},lr.defaultProps={users:[],loadingUsersList:!1,usersRole:{}};const ur=lr;const mr=(0,i.$j)((function(e){return{users:e.users.users,usersRole:e.users.usersRole,loadingUsersList:e.users.loadingUsersList}}),(function(e){return{fetchUsers:function(){return e({type:Oe})},deleteUser:function(t){return e(function(e){return{type:Re,idUser:e}}(t))},editUserRole:function(t){return e(function(e){return{type:Se,idUser:e}}(t))},handleChangeSelect:function(t,r){return e(function(e,t){return{type:ke,id:e,role:t}}(t,r))}}}))(ur);const pr=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.createElement("ul",{className:"admin__menu"},n.createElement("li",null,n.createElement(s.OL,{className:"admin__menu__link",to:"/admin/utilisateurs",exact:!0,activeClassName:"admin__menu__link--active"},"Utilisateurs")),n.createElement("li",null,n.createElement(s.OL,{className:"admin__menu__link",to:"/admin/exercices",exact:!0,activeClassName:"admin__menu__link--active"},"Exercices")))};const dr=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.createElement(n.Fragment,null,n.createElement(pr,null),n.createElement("p",null,"Exercices List"))};const _r=function(){return n.createElement("section",{className:"admin"},n.createElement(bt.rs,null,n.createElement(bt.AW,{path:"/admin/utilisateurs"},n.createElement(mr,null)),n.createElement(bt.AW,{path:"/admin/exercices"},n.createElement(dr,null))))};var fr=function(e){var t=e.sendForEmail,r=e.onChangeText,a=e.email;return n.createElement(n.Fragment,null,n.createElement("form",{action:"",method:"get",className:"form-forget",onSubmit:function(e){e.preventDefault(),t()}},n.createElement("input",{value:a,onChange:function(e){var t=e.target.value;r(t)},className:"field-input",placeholder:"Veuillez renseigner votre e-mail"})))};fr.propTypes={sendForEmail:Ke().func.isRequired,onChangeText:Ke().func.isRequired,email:Ke().string.isRequired};const gr=fr;const hr=(0,i.$j)((function(e){return{email:e.forget.email}}),(function(e){return{onChangeText:function(t){return e({type:fe,payload:t})},sendForEmail:function(){return e({type:he})}}}))(gr);var Er=function(e){var t=e.validNewPassword,r=e.onChangeTextPass,a=e.password,s=e.passwordConfirm,i=(0,bt.UO)().token;return n.createElement(n.Fragment,null,n.createElement("form",{action:"",method:"get",className:"form-new-password",onSubmit:function(e){e.preventDefault(),t(i)}},n.createElement("input",{value:a,onChange:function(e){var t=e.target.value;r(t,s)},className:"input-password",placeholder:"Veuillez entrer un mot de passe"}),n.createElement("input",{value:s,onChange:function(e){var t=e.target.value;r(a,t)},className:"input-password-confirm",placeholder:"Veuillez confirmer le mot de passe"}),n.createElement("button",{type:"submit"},"X")))};Er.propTypes={validNewPassword:Ke().func.isRequired,onChangeTextPass:Ke().func.isRequired,password:Ke().string.isRequired,passwordConfirm:Ke().string.isRequired};const br=Er;const vr=(0,i.$j)((function(e){return{password:e.forget.password,passwordConfirm:e.forget.passwordConfirm}}),(function(e){return{onChangeTextPass:function(t,r){return e(function(e,t){return{type:ge,payload:e,payload2:t}}(t,r))},validNewPassword:function(t){return e(function(e){return{type:Ee,token:e}}(t))}}}))(br);var wr=function(e){var t=e.id,r=e.value,a=e.label,s=e.onChange,i=e.type,o=e.name,c=e.placeholder;return n.createElement("div",{className:""},n.createElement("label",{htmlFor:t,className:"label"},a),n.createElement("input",{type:i,name:o,id:t,value:r,placeholder:c,onChange:function(e){return s(e.target.value,o)},className:"input","aria-required":"true"}))};wr.propTypes={id:Ke().string.isRequired,value:Ke().string,label:Ke().string.isRequired,onChange:Ke().func,type:Ke().string.isRequired,name:Ke().string.isRequired,placeholder:Ke().string},wr.defaultProps={value:"",onChange:function(){},placeholder:""};const yr=wr;var xr=function(e){var t=e.user,r=e.newEmail,a=e.newPseudo,s=e.currentPassword,i=e.newPassword,o=e.newPasswordConfirm,c=e.changeField,l=e.onSubmitEmail,u=e.onSubmitPseudo,m=e.onSubmitPassword,p=e.onSubmitFile,d=e.setSelectedFile;return n.createElement("section",{className:"settings"},n.createElement("h1",{className:"title_h1"},"Paramètres"),n.createElement("form",{className:"settings__form",onSubmit:function(e){e.preventDefault(),p()}},n.createElement("div",{className:""},n.createElement("label",{htmlFor:"upload"},"Modifier votre photo de profil"),n.createElement("input",{id:"upload",type:"file",onChange:function(e){d(e.target.files[0])}})),n.createElement("button",{className:"button--blue",type:"submit"},"Valider la modification")),n.createElement("form",{className:"settings__form",onSubmit:function(e){e.preventDefault(),l()}},n.createElement(yr,{type:"email",id:"newEmail",value:r,label:"Adresse e-mail (nom@domaine.fr)",name:"newEmail",placeholder:t.email,onChange:c}),n.createElement("div",{className:""},n.createElement("button",{className:"button--blue",type:"submit"},"Valider la modification"))),n.createElement("form",{className:"settings__form",onSubmit:function(e){e.preventDefault(),u()}},n.createElement(yr,{type:"text",id:"newPseudo",value:a,label:"Pseudo",name:"newPseudo",placeholder:t.pseudo,onChange:c}),n.createElement("div",{className:""},n.createElement("button",{className:"button--blue",type:"submit"},"Valider la modification"))),n.createElement("form",{className:"settings__form",onSubmit:function(e){e.preventDefault(),m()}},n.createElement(yr,{type:"password",id:"currentPassword",value:s,label:"Mot de passe actuel",name:"currentPassword",onChange:c}),n.createElement(yr,{type:"password",id:"newPassword",value:i,label:"Nouveau mot de passe",name:"newPassword",onChange:c}),n.createElement(yr,{type:"password",id:"newPasswordConfirm",value:o,label:"Confirmez votre nouveau mot de passe",name:"newPasswordConfirm",onChange:c}),n.createElement("div",{className:""},n.createElement("button",{className:"button--blue",type:"submit"},"Valider la modification"))))};xr.propTypes={user:Ke().shape({pseudo:Ke().string.isRequired,email:Ke().string.isRequired}).isRequired,newEmail:Ke().string.isRequired,newPseudo:Ke().string.isRequired,newPassword:Ke().string.isRequired,newPasswordConfirm:Ke().string.isRequired,currentPassword:Ke().string.isRequired,changeField:Ke().func.isRequired,onSubmitPseudo:Ke().func.isRequired,onSubmitEmail:Ke().func.isRequired,onSubmitPassword:Ke().func.isRequired,onSubmitFile:Ke().func.isRequired,setSelectedFile:Ke().func.isRequired};const Or=xr;const Nr=(0,i.$j)((function(e){return{newEmail:e.auth.newEmail,newPseudo:e.auth.newPseudo,currentPassword:e.auth.currentPassword,newPassword:e.auth.newPassword,newPasswordConfirm:e.auth.newPasswordConfirm,user:e.auth.user}}),(function(e){return{changeField:function(t,r){return e(function(e,t){return{type:g,value:e,name:t}}(t,r))},onSubmitEmail:function(){return e({type:w})},onSubmitPseudo:function(){return e({type:y})},onSubmitPassword:function(){return e({type:"EDIT_PASSWORD_USER"})},onSubmitFile:function(){return e({type:R})},setSelectedFile:function(t){return e(function(e){return{type:O,file:e}}(t))}}}))(Or);r(2772),r(7941);function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Sr=function(e){var t=e.component,r=e.isLogged,a=Rr(e,["component","isLogged"]);return n.createElement(bt.AW,Pr({},a,{render:function(e){return r?n.createElement(t,e):n.createElement(bt.l_,{to:"/"})}}))};Sr.propTypes={component:Ke().any.isRequired,isLogged:Ke().bool.isRequired};const qr=Sr;function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Cr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Tr=function(e){var t=e.component,r=e.isLogged,a=e.role,s=Cr(e,["component","isLogged","role"]);return n.createElement(bt.AW,kr({},s,{render:function(e){return r&&"admin"===a?n.createElement(t,e):n.createElement(bt.l_,{to:"/"})}}))};Tr.propTypes={component:Ke().any.isRequired,isLogged:Ke().bool.isRequired,role:Ke().string.isRequired};const jr=Tr;var Ir=function(e){var t=e.isLogged,r=e.role;return n.createElement("main",{id:"main-content",role:"main",tabIndex:"-1"},n.createElement(bt.rs,null,n.createElement(bt.AW,{exact:!0,path:"/"},n.createElement(Ot,null)),n.createElement(bt.AW,{exact:!0,path:"/inscription"},n.createElement(qt,null)),n.createElement(qr,{path:"/profil",component:Tt,isLogged:t}),n.createElement(qr,{path:"/profil-edit",component:Nr,isLogged:t}),n.createElement(bt.AW,{exact:!0,path:"/challenges"},n.createElement(Mt,null)),n.createElement(bt.AW,{exact:!0,path:"/exercice/:exerciseId"},n.createElement(or,null)),n.createElement(jr,{path:"/admin",component:_r,isLogged:t,role:r}),n.createElement(bt.AW,{exact:!0,path:"/oublie"},n.createElement(hr,null)),n.createElement(bt.AW,{exact:!0,path:"/forget/:token"},n.createElement(vr,null))))};Ir.propTypes={isLogged:Ke().bool.isRequired,role:Ke().string.isRequired};const Ar=Ir;const Dr=(0,i.$j)((function(e){return{isLogged:e.auth.isLogged,role:e.auth.user.role}}),(function(){return{}}))(Ar);const Fr=function(){return n.createElement("footer",{className:"footer",role:"contentinfo"},n.createElement("ul",{className:"footer__list"},n.createElement("li",null,"Copyright 2021"),n.createElement("li",null,n.createElement(s.rU,{className:"footer__list__link",to:"#"},"Mentions légales")),n.createElement("li",null,n.createElement(s.rU,{className:"footer__list__link",to:"#"},"Plan du site"))))};var Lr=function(e){var t=e.checkAuth;return(0,n.useEffect)((function(){t()}),[]),n.createElement(n.Fragment,null,n.createElement("a",{className:"skip-link sr-only-focusable",href:"#main-content"},"Contenu")," ",n.createElement("div",{className:"header-wrapper"},n.createElement(Je,null),n.createElement(at,null),n.createElement(Et,null)),n.createElement(Dr,null),n.createElement(Fr,null))};Lr.propTypes={checkAuth:Ke().func.isRequired};const Ur=Lr;const Vr=(0,i.$j)((function(){return{}}),(function(e){return{checkAuth:function(){return e({type:v})}}}))(Ur);var Mr=n.createElement(i.zt,{store:Be},n.createElement(s.VK,null,n.createElement(Vr,null))),Gr=document.getElementById("root");(0,a.render)(Mr,Gr)},9193:()=>{}},0,[[9193,666,182],[4909,666,182]]]);